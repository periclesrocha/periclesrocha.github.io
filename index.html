<html>
    <head>
        <title>Average house prices for the Austin metropolitan area</title>
    </head>

    <meta name="description" content="A narrative visualization created for CS-416 at University of Illinois Urbana Champaign">
    <meta name="keywords" content="MCS-DS,CS-416, UIUC, D3, narrative visualization">
    <meta name="author" content="Peri Rocha">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <body>
        Austin house prices... (introduction goes here)    

        <h1>Rise of house prices in Austin, TX</h1>
        <p>Paragraph 1.</p>
        <p>Paragraph 2.</p>
        <div id="chart"></div>    
        <script type="text/javascript">
            const data = await d3.csv("http://periclesrocha.github.io/data/austinData_summary.csv");

            var xScale = d3.scaleLog().domain([10,150]).range([0, 200]),
                yScale = d3.scaleLog().domain([10,150]).range([200, 0]),
                lScale = d3.scaleLog().domain([10, 150]).range([0, 200]),
                x_axis = d3.axisBottom(xScale).tickValues([10, 20, 50, 100]).tickFormat(d3.format("~s")), 
                y_axis = d3.axisLeft(yScale).tickValues([10, 20, 50, 100]).tickFormat(d3.format("~s"))

            d3.select("svg")
            .append("g")
                .attr("transform", "translate(" + 50 + "," + 50 + ")")
                .selectAll("g")
                .data(data)
                .enter()
                .append("circle")
                .attr("cx", function(d,i) {return lScale(data[i].City_Community);})
                .attr("cy", function(d,i) {return 200 - lScale(+data[i].City_Community);})
                .attr("r", function(d,i) {return +data[i].City_Community + 2;})

            d3.select("svg")
            .append("g")
            .attr('transform', 'translate('+ 50 +','+ 50 +')')
            .call(y_axis);

            d3.select("svg")
            .append("g")
            .attr('transform', 'translate('+ 50 +','+ 250 +')')
            .call(x_axis)
        </script>        
        <p>Some other text here.</p>
    </body>
</html>